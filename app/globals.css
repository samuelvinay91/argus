@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * ARGUS DESIGN SYSTEM
 * ====================
 * A sophisticated, professional design system built on:
 * - 8px spacing grid
 * - Unique color palette (teal/cyan primary, amber accents)
 * - Clear typography hierarchy
 * - Consistent component styling
 */

@layer base {
  :root {
    /* Light theme (not primary, but supported) */
    --background: 210 20% 98%;
    --foreground: 220 25% 10%;
    --card: 0 0% 100%;
    --card-foreground: 220 25% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 25% 10%;
    --primary: 173 80% 40%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 15% 93%;
    --secondary-foreground: 220 25% 10%;
    --muted: 220 15% 93%;
    --muted-foreground: 220 10% 45%;
    --accent: 38 92% 50%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 88%;
    --input: 220 15% 88%;
    --ring: 173 80% 40%;
    --radius: 0.625rem;

    /* Argus Brand Colors */
    --argus-teal: 173 80% 40%;
    --argus-cyan: 185 85% 50%;
    --argus-amber: 38 92% 50%;
    --argus-emerald: 160 84% 39%;
  }

  .dark {
    /* Pure black background - Vercel/Linear inspired */
    --background: 0 0% 0%;
    --foreground: 0 0% 93%;

    /* Card - slightly elevated from pure black */
    --card: 0 0% 4%;
    --card-foreground: 0 0% 93%;

    /* Popover */
    --popover: 0 0% 6%;
    --popover-foreground: 0 0% 93%;

    /* Primary: Electric Teal - unique, tech-forward */
    --primary: 173 80% 45%;
    --primary-foreground: 0 0% 0%;

    /* Secondary: Dark gray */
    --secondary: 0 0% 9%;
    --secondary-foreground: 0 0% 93%;

    /* Muted: Subtle gray */
    --muted: 0 0% 9%;
    --muted-foreground: 0 0% 53%;

    /* Accent: Warm Amber */
    --accent: 38 92% 50%;
    --accent-foreground: 0 0% 0%;

    /* Destructive: Clear red */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    /* Borders: Very subtle */
    --border: 0 0% 14%;
    --input: 0 0% 14%;
    --ring: 173 80% 45%;

    /* Argus Brand Colors - Dark Mode */
    --argus-teal: 173 80% 45%;
    --argus-cyan: 185 85% 55%;
    --argus-amber: 38 92% 55%;
    --argus-emerald: 160 84% 44%;

    /* NEW: AI Feature Colors - Violet Spectrum */
    --argus-violet-50: 262 80% 95%;
    --argus-violet-100: 262 80% 85%;
    --argus-violet-200: 262 80% 70%;
    --argus-violet-300: 262 80% 60%;
    --argus-violet-400: 262 80% 55%;
    --argus-violet-500: 262 80% 50%;
    --argus-violet-600: 262 80% 40%;

    /* NEW: Status Colors - Semantic */
    --status-healthy: 160 84% 44%;
    --status-warning: 38 92% 55%;
    --status-critical: 0 72% 55%;
    --status-healing: 262 80% 55%;
    --status-running: 185 85% 55%;

    /* NEW: Glass Morphism Variables */
    --glass-surface: 0 0% 100% / 0.03;
    --glass-surface-hover: 0 0% 100% / 0.06;
    --glass-border: 0 0% 100% / 0.08;
    --glass-border-hover: 0 0% 100% / 0.12;
    --glass-highlight: 0 0% 100% / 0.15;
    --glass-shadow: 0 0% 0% / 0.3;

    /* NEW: Glow Effects */
    --glow-primary: 173 80% 45% / 0.4;
    --glow-violet: 262 80% 55% / 0.4;
    --glow-success: 160 84% 44% / 0.4;
    --glow-error: 0 72% 55% / 0.4;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Smooth scrolling */
    scroll-behavior: smooth;
    /* Prevent layout shift from scrollbar */
    scrollbar-gutter: stable;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Anchor link offset for fixed header */
  section[id] {
    scroll-margin-top: 80px;
  }

  /* Typography Hierarchy */
  h1 {
    @apply text-4xl font-bold tracking-tight;
    letter-spacing: -0.025em;
  }

  h2 {
    @apply text-2xl font-semibold tracking-tight;
    letter-spacing: -0.02em;
  }

  h3 {
    @apply text-xl font-semibold;
    letter-spacing: -0.015em;
  }

  h4 {
    @apply text-lg font-medium;
  }

  h5 {
    @apply text-base font-medium;
  }

  h6 {
    @apply text-sm font-medium uppercase tracking-wide;
  }

  /* Better focus states */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }
}

/* Custom scrollbar - refined */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/20 rounded-full;
  transition: background-color 0.2s;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/40;
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.2) transparent;
}

@layer components {
  /* Consistent card styling */
  .card-elevated {
    @apply bg-card border border-border rounded-xl;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  }

  .card-elevated-hover {
    @apply card-elevated transition-all duration-200;
  }

  .card-elevated-hover:hover {
    @apply border-primary/30;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }

  /* Glass morphism effect - Original */
  .glass {
    @apply bg-background/80 backdrop-blur-xl border border-border/50;
  }

  /* NEW: Enhanced Glass Card - Premium Glassmorphism */
  .glass-card {
    @apply relative overflow-hidden rounded-xl;
    background: linear-gradient(
      135deg,
      hsl(var(--glass-surface)) 0%,
      hsl(0 0% 100% / 0.01) 100%
    );
    border: 1px solid hsl(var(--glass-border));
    backdrop-filter: blur(20px) saturate(180%);
    box-shadow:
      0 8px 32px hsl(var(--glass-shadow)),
      inset 0 1px 0 hsl(var(--glass-highlight));
  }

  .glass-card::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: linear-gradient(
      135deg,
      hsl(var(--glass-highlight)) 0%,
      transparent 50%
    );
    opacity: 0.5;
  }

  .glass-card:hover {
    border-color: hsl(var(--glass-border-hover));
    background: linear-gradient(
      135deg,
      hsl(var(--glass-surface-hover)) 0%,
      hsl(0 0% 100% / 0.02) 100%
    );
  }

  /* NEW: Glass Card Variants */
  .glass-card-primary {
    @apply glass-card;
    border-color: hsl(var(--primary) / 0.3);
    box-shadow:
      0 8px 32px hsl(var(--glass-shadow)),
      0 0 40px hsl(var(--glow-primary)),
      inset 0 1px 0 hsl(var(--glass-highlight));
  }

  .glass-card-violet {
    @apply glass-card;
    border-color: hsl(var(--argus-violet-400) / 0.3);
    box-shadow:
      0 8px 32px hsl(var(--glass-shadow)),
      0 0 40px hsl(var(--glow-violet)),
      inset 0 1px 0 hsl(var(--glass-highlight));
  }

  /* NEW: Neumorphic Button Style */
  .neu-button {
    background: linear-gradient(145deg,
      hsl(var(--card)) 0%,
      hsl(var(--background)) 100%
    );
    box-shadow:
      8px 8px 16px hsl(0 0% 0% / 0.4),
      -8px -8px 16px hsl(0 0% 100% / 0.03);
    transition: all 0.2s ease;
  }

  .neu-button:hover {
    box-shadow:
      4px 4px 8px hsl(0 0% 0% / 0.4),
      -4px -4px 8px hsl(0 0% 100% / 0.03);
  }

  .neu-button:active {
    box-shadow:
      inset 4px 4px 8px hsl(0 0% 0% / 0.3),
      inset -4px -4px 8px hsl(0 0% 100% / 0.02);
  }

  /* Gradient text utility */
  .gradient-text {
    @apply bg-gradient-to-r from-primary via-[hsl(var(--argus-cyan))] to-primary bg-clip-text text-transparent;
  }

  /* Gradient backgrounds */
  .gradient-primary {
    @apply bg-gradient-to-r from-primary to-[hsl(var(--argus-cyan))];
  }

  .gradient-accent {
    @apply bg-gradient-to-r from-[hsl(var(--argus-amber))] to-[hsl(35,90%,55%)];
  }

  /* Section spacing - 8px grid */
  .section-padding {
    @apply px-6 py-16 md:px-8 md:py-24;
  }

  .container-tight {
    @apply max-w-5xl mx-auto;
  }

  .container-wide {
    @apply max-w-7xl mx-auto;
  }

  /* Button base styles */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5
           bg-primary text-primary-foreground font-medium rounded-lg
           transition-all duration-200 hover:opacity-90
           focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5
           bg-secondary text-secondary-foreground font-medium rounded-lg
           border border-border transition-all duration-200
           hover:bg-secondary/80 hover:border-primary/30;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2
           text-muted-foreground font-medium rounded-lg
           transition-all duration-200 hover:text-foreground hover:bg-muted;
  }

  /* Link styles */
  .link {
    @apply text-primary hover:text-primary/80 transition-colors underline-offset-4 hover:underline;
  }

  .link-subtle {
    @apply text-muted-foreground hover:text-foreground transition-colors;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-0.5
           text-xs font-medium rounded-full;
  }

  .badge-primary {
    @apply badge bg-primary/10 text-primary;
  }

  .badge-success {
    @apply badge bg-emerald-500/10 text-emerald-500;
  }

  .badge-warning {
    @apply badge bg-amber-500/10 text-amber-500;
  }

  .badge-error {
    @apply badge bg-red-500/10 text-red-500;
  }

  /* Status indicators */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  .status-dot-success {
    @apply status-dot bg-emerald-500;
  }

  .status-dot-warning {
    @apply status-dot bg-amber-500;
  }

  .status-dot-error {
    @apply status-dot bg-red-500;
  }

  .status-dot-info {
    @apply status-dot bg-primary;
  }

  /* Test status colors - refined */
  .status-passed {
    @apply text-emerald-500 bg-emerald-500/10;
  }

  .status-failed {
    @apply text-red-500 bg-red-500/10;
  }

  .status-running {
    @apply text-primary bg-primary/10;
  }

  .status-pending {
    @apply text-amber-500 bg-amber-500/10;
  }

  /* NEW: AI/Healing Status */
  .status-healing {
    @apply text-[hsl(var(--argus-violet-400))] bg-[hsl(var(--argus-violet-400)/0.1)];
  }

  /* NEW: Badge Variants */
  .badge-ai {
    @apply badge bg-[hsl(var(--argus-violet-400)/0.15)] text-[hsl(var(--argus-violet-300))];
  }

  .badge-new {
    @apply badge bg-gradient-to-r from-[hsl(var(--argus-violet-400))] to-[hsl(var(--primary))] text-white;
  }

  .badge-beta {
    @apply badge bg-[hsl(var(--argus-amber)/0.15)] text-[hsl(var(--argus-amber))];
  }
}

/* Code highlighting adjustments */
.prose pre {
  @apply bg-muted rounded-lg p-4 overflow-x-auto text-sm;
}

.prose code {
  @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
}

/* Animation for streaming text */
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.cursor-blink::after {
  content: '|';
  animation: blink 1s infinite;
  @apply text-primary ml-0.5 font-light;
}

/* Smooth hover transitions for interactive elements */
@layer utilities {
  .hover-lift {
    @apply transition-transform duration-200;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }

  /* NEW: Enhanced Hover Effects */
  .hover-glow-violet:hover {
    box-shadow: 0 0 30px hsl(var(--glow-violet));
  }

  .hover-glow-success:hover {
    box-shadow: 0 0 20px hsl(var(--glow-success));
  }

  .hover-card {
    @apply transition-all duration-300 ease-out;
  }

  .hover-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px hsl(0 0% 0% / 0.3);
  }

  /* NEW: Interactive Button Press */
  .press-effect {
    @apply transition-transform duration-100;
  }

  .press-effect:active {
    transform: scale(0.98);
  }

  /* NEW: Gradient Text Utilities */
  .gradient-text-violet {
    @apply bg-gradient-to-r from-[hsl(var(--argus-violet-300))] via-[hsl(var(--argus-violet-400))] to-[hsl(var(--primary))] bg-clip-text text-transparent;
  }

  .gradient-text-rainbow {
    @apply bg-gradient-to-r from-[hsl(var(--primary))] via-[hsl(var(--argus-violet-400))] to-[hsl(var(--argus-amber))] bg-clip-text text-transparent;
  }
}

/* Page transition animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.4s ease-out;
}

/* Stagger children animations */
.stagger-children > * {
  animation: slideUp 0.4s ease-out both;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }

/* NEW: Advanced Animation Keyframes */
@keyframes breathe {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.02);
    opacity: 0.85;
  }
}

@keyframes neural-pulse {
  0% {
    stroke-dashoffset: 100%;
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0%;
    opacity: 0.3;
  }
}

@keyframes celebrate {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-6px);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes sparkle {
  0%, 100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
  25% {
    opacity: 0.8;
    transform: scale(1.1) rotate(5deg);
  }
  50% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
  75% {
    opacity: 0.8;
    transform: scale(1.1) rotate(-5deg);
  }
}

@keyframes shake-subtle {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

@keyframes glow-pulse {
  0%, 100% {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }
  50% {
    box-shadow: 0 0 40px hsl(var(--primary) / 0.5);
  }
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes typing-dots {
  0%, 20% { opacity: 0; }
  40% { opacity: 1; }
  60%, 100% { opacity: 0; }
}

@keyframes bounce-dot {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-6px); }
}

@keyframes wave-dot {
  0%, 100% {
    transform: translateY(0);
    opacity: 0.5;
  }
  50% {
    transform: translateY(-4px);
    opacity: 1;
  }
}

@keyframes count-up {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Animation Classes */
.animate-breathe {
  animation: breathe 3s ease-in-out infinite;
}

.animate-neural-pulse {
  animation: neural-pulse 2s ease-in-out infinite;
}

.animate-celebrate {
  animation: celebrate 0.5s ease-out;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-shimmer {
  animation: shimmer 2s linear infinite;
  background: linear-gradient(
    90deg,
    transparent 0%,
    hsl(var(--glass-highlight)) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
}

.animate-sparkle {
  animation: sparkle 2s ease-in-out infinite;
}

.animate-shake {
  animation: shake-subtle 0.5s ease-in-out;
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

.animate-gradient {
  animation: gradient-shift 3s ease infinite;
  background-size: 200% 200%;
}

.animate-count-up {
  animation: count-up 0.6s ease-out;
}

/* Typing indicator dots */
.typing-dot {
  @apply w-2 h-2 rounded-full bg-[hsl(var(--argus-violet-400))];
  animation: typing-dots 1.4s infinite;
}

.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

/* Mobile safe area insets for notches and home indicators */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* Mobile-specific touch improvements */
@media (hover: none) and (pointer: coarse) {
  /* Larger tap targets on touch devices */
  button,
  [role="button"],
  a {
    min-height: 44px;
    min-width: 44px;
  }

  /* Remove hover states on touch */
  .hover\:bg-muted:hover {
    background-color: inherit;
  }

  /* Active states instead */
  .hover\:bg-muted:active {
    @apply bg-muted;
  }
}

/* NEW: Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .animate-shimmer,
  .animate-breathe,
  .animate-float,
  .animate-sparkle,
  .animate-glow-pulse,
  .animate-neural-pulse {
    animation: none !important;
  }
}

/* NEW: High Contrast Mode Support */
@media (prefers-contrast: more) {
  :root {
    --border: 220 30% 30%;
    --muted-foreground: 220 10% 70%;
  }

  .glass-card {
    background: hsl(var(--card));
    border: 2px solid hsl(var(--border));
    backdrop-filter: none;
  }
}

/* NEW: Skip Link for Accessibility */
.skip-link {
  @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[100];
  @apply focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-lg;
  @apply focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

/* NEW: Focus Visible Improvements */
.focus-ring {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background;
}

/* NEW: AI Processing Indicator */
.ai-thinking {
  @apply relative;
}

.ai-thinking::after {
  content: '';
  @apply absolute inset-0 rounded-full;
  background: hsl(var(--argus-violet-400) / 0.2);
  animation: breathe 2s ease-in-out infinite;
}

/* NEW: Loading Skeleton with Shimmer */
.skeleton {
  @apply relative overflow-hidden bg-muted rounded;
}

.skeleton::after {
  content: '';
  @apply absolute inset-0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    hsl(0 0% 100% / 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* NEW: Progress Ring */
.progress-ring {
  transform: rotate(-90deg);
  transform-origin: 50% 50%;
}

.progress-ring-circle {
  transition: stroke-dashoffset 0.5s ease;
}
